<!--pages/preoperative/preoperative.wxml-->
<view class="container">
  <view class="card">
    <text class="title">术前检查数据</text>
    <text class="subtitle">患者ID：{{patientId}}</text>

    <view class="form-group">
      <text class="form-label">血常规 (Hb)</text>
      <input class="form-input" placeholder="请输入" value="{{form.hb}}" bindinput="onInputChange" data-field="hb" />
    </view>

    <view class="form-group">
      <text class="form-label">白细胞 (WBC)</text>
      <input class="form-input" placeholder="请输入" value="{{form.wbc}}" bindinput="onInputChange" data-field="wbc" />
    </view>

    <view class="form-group">
      <text class="form-label">血小板 (PLT)</text>
      <input class="form-input" placeholder="请输入" value="{{form.plt}}" bindinput="onInputChange" data-field="plt" />
    </view>

    <view class="form-group">
      <text class="form-label">凝血功能</text>
      <textarea class="form-textarea" placeholder="请输入凝血功能检查结果" value="{{form.coagulation}}" bindinput="onInputChange" data-field="coagulation" />
    </view>

    <view class="form-group">
      <text class="form-label">肝肾功能</text>
      <textarea class="form-textarea" placeholder="请输入肝肾功能检查结果" value="{{form.liverKidney}}" bindinput="onInputChange" data-field="liverKidney" />
    </view>

    <view class="form-group">
      <text class="form-label">心电图</text>
      <textarea class="form-textarea" placeholder="请输入心电图检查结果" value="{{form.ecg}}" bindinput="onInputChange" data-field="ecg" />
    </view>

    <view class="form-group">
      <text class="form-label">影像学检查</text>
      <textarea class="form-textarea" placeholder="CT、MRI 等检查结果" value="{{form.imaging}}" bindinput="onInputChange" data-field="imaging" />
    </view>

    <view class="form-group">
      <text class="form-label">其他检查</text>
      <textarea class="form-textarea" placeholder="其他检查项目及结果" value="{{form.other}}" bindinput="onInputChange" data-field="other" />
    </view>

    <view class="form-group">
      <text class="form-label">检查日期</text>
      <picker mode="date" value="{{form.checkDate}}" bindchange="onDateChange" data-field="checkDate">
        <view class="picker-view">{{form.checkDate || '请选择日期'}}</view>
      </picker>
    </view>
  </view>

  <view class="btn-group">
    <button class="btn btn-primary" bindtap="saveData">保存数据</button>
    <button class="btn btn-default" bindtap="goBack">返回</button>
  </view>
</view>
